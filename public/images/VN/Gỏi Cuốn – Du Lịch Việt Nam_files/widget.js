!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e):function(e){if(!e.document)throw new Error("harafunnel widget requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(l){"use strict";var m={randomInt:function(){var e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER;return Math.floor(Math.random()*(t-e+1))+e},isMobile:function(e){return e&&screen&&screen.width?!!(screen.width<=699||navigator.userAgent.match(/(iPad|iPhone|iPod|Android)/g)):!!navigator.userAgent.match(/(iPad|iPhone|iPod|Android)/g)},getNewGuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},setCookie:function(e,t,n,i){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var o=e+"="+t+";"+("expires="+r.toUTCString())+";path=/;";i&&(o+="SameSite="+i+";"),document.cookie=o},getCookie:function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),i=0;i<n.length;i++){for(var r=n[i];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""},removeCookie:function(e,t,n){document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(t?"; path="+t:"")},getParameterByName:function(e,t){t||(t=l.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},addListener:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},hasCustomerChat:!1};function r(e,t,n,i){null!=n&&null!=n&&n.hasOwnProperty("type")&&"customer_chat"===n.type&&function(e,t,n,i){if(!m.hasCustomerChat&&null!=i&&null!=i&&0!=i.length){m.hasCustomerChat=!0;var r=document.createElement("div");if(r.setAttribute("class","fb-customerchat"),r.setAttribute("page_id",t),i.greeting_dialog_display?r.setAttribute("greeting_dialog_display",i.greeting_dialog_display):r.setAttribute("greeting_dialog_display","hide"),i.logged_in_greeting&&r.setAttribute("logged_in_greeting",i.logged_in_greeting),i.logged_out_greeting&&r.setAttribute("logged_out_greeting",i.logged_out_greeting),n.hasOwnProperty("ref")){var o=n.ref;null!=o&&null!=o&&0<o.length&&r.setAttribute("ref",o)}if(document.getElementsByTagName("body")[0].appendChild(r),m.isMobile(!0))var a=setInterval(function(){var e=document.getElementById("fb-root").getElementsByClassName("fb_dialog");e&&0<e.length&&(e[0].style.display="inline",e[0].innerHTML='<img src="//staticxx.facebook.com/images/messaging/commerce/livechat/MessengerIcon.png" height="60" width="60" alt="" class="img">',e[0].onclick=function(e){l.open("//m.me/"+t+"?ref="+o,"_blank")},clearInterval(a))},250)}}(0,t,n,i)}function o(e,t,n,i){null!=n&&null!=n&&n.hasOwnProperty("type")&&null!=i&&function(e,t,n,i){if(null!=i&&null!=i&&0!=i.length){var r=null!=i.settings?i.settings.button_size:"standard",o=null!=i.settings&&i.settings.plugin_align,a=null!=i.settings&&1==i.settings.skin?"light":"dark",l=document.createElement("div"),s="https://"+location.hostname;if(l.setAttribute("class","fb-messenger-checkbox"),l.setAttribute("origin",s),l.setAttribute("page_id",t),l.setAttribute("minimized","true"),l.setAttribute("messenger_app_id",e),l.setAttribute("prechecked","false"),l.setAttribute("size",r),l.setAttribute("skin",a),l.setAttribute("center_align",o),l.setAttribute("id",i.growthtool_id),n.hasOwnProperty("ref")){var u=m.getNewGuid(),d=n.id;null!=u&&null!=u&&0<u.length&&l.setAttribute("user_ref",u)}var c="[data-widget-id='"+d+"']",g=document.querySelectorAll(c);null!=g&&0<g.length&&g[0].replaceWith(l)}}(e,t,n,i)}if(l.hasOwnProperty("hrfwidget")&&(null!=(i=l.hrfwidget)&&null!=i&&i.hasOwnProperty("appId")&&i.hasOwnProperty("pageId")&&i.hasOwnProperty("widgets"))){var a=i.appId,s=i.pageId,e=i.widgets,u=i.checkboxs,d=i.customer_chats,t=i.widgetLocale,n=i.fbSDKVersion;if(null==a||null==a)return;if(null==s||null==s)return;if(null==e||null==e||!Array.isArray(e)||0==e.length)return;var i,c="facebook-jssdk";if(document.getElementById(c))try{document.getElementById(c).remove()}catch(e){}(i=document.createElement("script")).id=c,i.async=!0,i.src="https://connect.facebook.net/"+t+"/sdk/xfbml.customerchat.js#xfbml=1&appId="+a+"&version="+n,i.onload=function(){e.map(function(e){var t=e.type;if("customer_chat"===t){var n=null;-1<(i=d.map(function(e){return e.growthtool_id}).indexOf(e.id))&&(n=d[i]),r(0,s,e,n)}else if("checkbox"===t){var i;n=null;-1<(i=u.map(function(e){return e.growthtool_id}).indexOf(e.id))&&(n=u[i]),o(a,s,e,n)}})},l.intervalCheckBody=setInterval(function(){var e=document.getElementsByTagName("body");null!=e&&null!=e&&0<e.length&&(clearInterval(l.intervalCheckBody),l.intervalCheckBody=void 0,document.getElementsByTagName("head")[0].appendChild(i))},500)}});